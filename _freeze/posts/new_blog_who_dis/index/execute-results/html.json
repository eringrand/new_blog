{
  "hash": "0471c5ee6a081a162fd2db410dfa3d73",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"New Blog - Who Dis?\"\nauthor: Erin Grand\ndate: 2025-12-05\ncategories: [blog, quarto]\nimage: 'istockphoto.jpg'\n---\n\nI started my blogging journey as a homework assignment in grad school. At the time, Jekyll was new, exciting, and easy to spin up. I found a theme I liked, contributed to the theme on GitHub so it had all the elements I needed, got an internship from the person who ran the theme (Thanks Barry!), and stuck with it till now.\n\nThere's nothing wrong with my (old?) blog, but I've been using Quarto docs in my work-life and wanted to experiment with Quarto powering my blog. I don't write a new post very often, so I also don't have *that* many posts to transition. It seemed like a fun challenge!\n\n## Task 1: Get all blog file structure into new file structure\n\nA Quarto blogs file tree look like:\n\n```         \n├── 404.html\n├── 404.jpg\n├── CNAME\n├── _quarto.yml\n├── about.qmd\n├── index.qmd\n├── posts\n│   ├── _metadata.yml\n│   ├── my_first_post\n│   │   └── index.qmd\n│   │   ├── stockphoto.png\n├── profile.png\n└── styles.css\n```\n\nwith each post having it's own subfolder under the *posts* directory. The text of each post is inside an index.qmd file, which contains date and tag metadata in the yaml.\n\nOn the other hand, my Jekyll blog directory looks like has mardown files under the \\_posts folder.\n\n```         \n  ├── 404.md\n  ├── CNAME\n  ├── _config.yml\n  ├── _includes\n  ├── _layouts\n  ├── _plugins\n  ├── _posts\n  │   ├── 2015-02-15-my_first_blog.md\n  ├── _sass\n  ├── about.md\n  ├── archive.html\n  ├── feed.xml\n  ├── htmlwidgets_deps\n  ├── images\n  │   ├── 404.jpg\n  │   └── stockphoto.png\n  ├── index.html\n  ├── projects.md\n  ├── style.scss\n  ├── tag_index.html\n  └── teaching.md\n```\n\nSo the first task is to convert all my markdown blog posts into their own sub-folder under a *posts* directory. I would also like to grab any and all meta data out of the posts while doing so.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\n# md posts filenames & location\nposts <- list.files(\"../../../sites/eringrand.github.io.raw/_posts/\", full.names = TRUE)\n\nposts_raw <- data.frame(post_loc  = posts, # full filepath\n                        post_name = basename(posts) # just the file name\n                        ) |> \n  rowwise() |> \n  # use list-frame to read in post text\n  mutate(post = list(data.frame(txt = readLines(post_loc))))\n\n# post meta data\nposts_info <- posts_raw |> \n  mutate(date = str_sub(post_name, 1, 10), # Jekyll post filenames all start with the date\n         author = \"Erin Grand\" \n         ) |> \n  # grab metadata from the text of the post itself\n  mutate(title = filter(post, str_detect(txt, \"title:\")) |> pull(txt), \n         title = str_remove(title, \"title:\") |> \n           str_remove_all(\"[[:punct:]]\") |> \n           str_trim(),\n         # this may be different depending on how your blog does tags\n         categories = filter(post, str_detect(txt, \"tags:\")) |> \n                             pull(txt) |> \n                             str_remove(\"tags:\") |> \n                             str_remove_all(\"[[:punct:]]\") |> \n                             str_trim() |> \n                             str_c(collapse = \", \"),\n         ) |> \n  select(post, title, date, categories, author)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntail(posts_info)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 5\n# Rowwise: \n  post           title                                   date  categories author\n  <list>         <chr>                                   <chr> <chr>      <chr> \n1 <df [76 × 1]>  Faces of rstudioconf                    2018… \"rstats t… Erin …\n2 <df [167 × 1]> Scraping APOD Descriptions              2018… \"\"         Erin …\n3 <df [70 × 1]>  Twitters Favorite Lesser Known Packages 2020… \"rstats\"   Erin …\n4 <df [20 × 1]>  Data science jobs in the nonprofit sec… 2021… \"data sci… Erin …\n5 <df [168 × 1]> Reviewing my old live journal posts     2022… \"sentimen… Erin …\n6 <df [185 × 1]> Best Practices for Cleaning Data in R   2025… \"data R p… Erin …\n```\n\n\n:::\n:::\n\n\nI then did a bunch of text cleaning of my tags/categories, but honestly I ended up rewriting them manually anyway, so I'm going to ignore that code for now.\n\nWith all the post information, and most of the meta data, now I could write the new post structure and files.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfill_between <- function(x) {\n  x_log = str_detect(x, \"---\")\n  \n  # Find the indices of the first and last TRUE\n  first_true_index <- which(x_log)[1]\n  last_true_index <- which(x_log)[2]\n\n  # Create a range of indices to fill\n  indices_to_fill <- first_true_index:last_true_index\n\n  # Set all values within this range to TRUE\n  return(x[-indices_to_fill])\n}\n\nposts_all <- posts_info |> \n  mutate(post_txt = list(data.frame(x = fill_between(pull(post, txt)))), # continue to use list-frames\n         # new yaml headers, with date and tags\n         yml_txt = (con = glue::glue(\"---\n                                     title: {title}\n                                     author: {author}\n                                     date: {date}\n                                     categories: [{categories}]\n                                     image: 'image.jpg'\n                                     ---\")\n                    ),\n         yml_txt = list(data.frame(readLines(textConnection(yml_txt)))),\n         new_post_txt = list(bind_rows(yml_txt, post_txt) |> pull(x)),\n         dir_title = janitor::make_clean_names(title)\n         ) |> \n  select(dir_title, new_post_txt)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(posts_all)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 2\n# Rowwise: \n  dir_title                                   new_post_txt\n  <chr>                                       <list>      \n1 educational_content_on_you_tube             <chr [47]>  \n2 reading_suggestions_from_feb_2015           <chr [54]>  \n3 march_gladness_at_tab_for_a_cause           <chr [44]>  \n4 educational_graphics_in_science             <chr [35]>  \n5 graphics_and_plots_in_science               <chr [190]> \n6 suggested_links_from_spring_and_summer_2015 <chr [26]>  \n```\n\n\n:::\n:::\n\n\nNow with the posts written in the way I wanted them, I just had to create the new subfolders, and write the posts out into individual index.qmd files.\n\n``` r\nwalk(pull(posts_all, dir_title), ~dir.create(glue::glue(\"posts/{.x}\")))\nwalk2(pull(posts_all, dir_title), pull(posts_all, new_post_txt), ~writeLines(.y, glue::glue(\"posts/{.x}/index.qmd\")))\n```\n\n## Task 2: Render the Blog and Fix all the Errors\n\nA significant number of my posts stopped working due to links that didn't go anywhere, and images that I didn't grab from the original posts. (Whoops! Next time, automate image file moving as well.) I didn't have that many blog posts, so I it was not a huge lift for me to manually test each post and edit the text to have correct image links (where possible).\n\nI also went in and changed most of the *categories* because my old tags didn't make as much sense to me anymore. (It's an R blog! Does every post need a #tidyverse tag? Probably not.)\n\nThis left with a functional blog!\n\n## Task 3: Make Blog Pretty!\n\nErin, you ask, this blog doesn't any different from the default theme? Did you finish the new blog??? Dear reader, no, I have not. I'm trying out some themes, and taking a stab at css and `brand.yml`, but none of those things are ready for Prime Time yet.\n\n# Wrap Up\n\nWhat blog engine do you use? Do you like the Quarto style of blog, or still use Rmarkdown `blogdown` or something else? Let's talk about it on blue-sky @eringrand. (...because I have *not* added comments capabilities to this blog yet!)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}